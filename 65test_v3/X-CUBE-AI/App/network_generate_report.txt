ST Edge AI Core v2.1.0-20194 329b0e98d
Created date          : 2025-10-08 16:56:06
Parameters            : generate --target stm32wba --name network -m D:/NTU/Dissertation/Bleeding_detect_training/tiny2dcnn.onnx --compression none --verbosity 1 --workspace C:/Users/Temp/mxAI_workspace30919218251005398258414315129613 --output D:/NTU/Dissertation/Records

Exec/report summary (generate)
--------------------------------------------------------------------------------------
model file         :   D:\NTU\Dissertation\Bleeding_detect_training\tiny2dcnn.onnx    
type               :   onnx                                                           
c_name             :   network                                                        
compression        :   none                                                           
options            :   allocate-inputs, allocate-outputs                              
optimization       :   balanced                                                       
target/series      :   stm32wba                                                       
workspace dir      :   C:\Users\Temp\mxAI_workspace30919218251005398258414315129613   
output dir         :   D:\NTU\Dissertation\Records                                    
model_fmt          :   float                                                          
model_name         :   tiny2dcnn                                                      
model_hash         :   0x1ebbd39bfe6d6d6bd421ed02d6a829b9                             
params #           :   3,862 items (15.09 KiB)                                        
--------------------------------------------------------------------------------------
input 1/1          :   'input', f32(1x6x24x1), 576 Bytes, activations                 
output 1/1         :   'output', f32(1x6), 24 Bytes, activations                      
macc               :   20,810                                                         
weights (ro)       :   15,448 B (15.09 KiB) (1 segment)                               
activations (rw)   :   1,908 B (1.86 KiB) (1 segment) *                               
ram (total)        :   1,908 B (1.86 KiB) = 1,908 + 0 + 0                             
--------------------------------------------------------------------------------------
(*) 'input'/'output' buffers can be used from the activations buffer

Model name - tiny2dcnn
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
m_id   layer (type,original)                             oshape               param/size         macc                    connected to   | c_size            c_macc              c_type             
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
8      fc_1_weight (Placeholder, Gemm)                   [b:64,c:48]          3,072/12,288                                              | +256(+2.1%)       +3,136(+100.0%)     Dense_[3]          
       fc_1_bias (Placeholder, Gemm)                     [b:64]               64/256                                                    | -256(-100.0%)                         
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
10     fc_3_weight (Placeholder, Gemm)                   [b:6,c:64]           384/1,536                                                 | +24(+1.6%)        +390(+100.0%)       Dense_[o][5]       
       fc_3_bias (Placeholder, Gemm)                     [b:6]                6/24                                                      | -24(-100.0%)                          
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
0      input (Input, )                                   [b:1,h:6,w:24,c:1]                                                             |                                       
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
1      _conv_conv_0_Conv_output_0 (Conv2D, Conv)         [b:1,h:6,w:24,c:4]   40/160            5,188                           input   | -160(-100.0%)     -5,188(-100.0%)     
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
2      _conv_conv_1_Relu_output_0 (Nonlinearity, Relu)   [b:1,h:6,w:24,c:4]                       576      _conv_conv_0_Conv_output_0   |                   -576(-100.0%)       
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
3      _conv_conv_2_MaxPool_output_0 (Pool, MaxPool)     [b:1,h:3,w:12,c:4]                       576      _conv_conv_1_Relu_output_0   | +160(+100.0%)     +5,764(+1000.7%)    Conv2D_[0]         
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
4      _conv_conv_3_Conv_output_0 (Conv2D, Conv)         [b:1,h:3,w:12,c:8]   296/1,184        10,376   _conv_conv_2_MaxPool_output_0   | -1,184(-100.0%)   -10,376(-100.0%)    
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
5      _conv_conv_4_Relu_output_0 (Nonlinearity, Relu)   [b:1,h:3,w:12,c:8]                       288      _conv_conv_3_Conv_output_0   |                   -288(-100.0%)       
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
6      _conv_conv_5_MaxPool_output_0 (Pool, MaxPool)     [b:1,h:1,w:6,c:8]                        192      _conv_conv_4_Relu_output_0   | +1,184(+100.0%)   +10,664(+5554.2%)   Conv2D_[1]         
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
7      _fc_fc_0_Flatten_output_0 (Reshape, Flatten)      [b:1,c:48]                                     _conv_conv_5_MaxPool_output_0   |                   +24(+100.0%)        Transpose_[2]      
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
8      _fc_fc_1_Gemm_output_0 (Gemm, Gemm)               [b:1,c:64]                             3,136       _fc_fc_0_Flatten_output_0   |                   -3,136(-100.0%)     
                                                                                                                          fc_1_weight   | 
                                                                                                                            fc_1_bias   | 
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
9      _fc_fc_2_Relu_output_0 (Nonlinearity, Relu)       [b:1,c:64]                                64          _fc_fc_1_Gemm_output_0   |                                       Nonlinearity_[4]   
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
10     output (Gemm, Gemm)                               [b:1,c:6]                                390          _fc_fc_2_Relu_output_0   |                   -390(-100.0%)       
                                                                                                                          fc_3_weight   | 
                                                                                                                            fc_3_bias   | 
------ ------------------------------------------------- -------------------- -------------- -------- ------------------------------- --- ----------------- ------------------- ------------------ 
model/c-model: macc=20,786/20,810 +24(+0.1%) weights=15,448/15,448  activations=--/1,908 io=--/0



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : tiny2dcnn
c-name                : network
c-node #              : 6
c-array #             : 19
activations size      : 1908 (1 segment)
weights size          : 15448 (1 segment)
macc                  : 20810
inputs                : ['input_output']
outputs               : ['output_output']

C-Arrays (19)
------ -------------------------------------------- ------------ ------------------------- ------------- --------- 
c_id   name (*_array)                               item/size    domain/mem-pool           c-type        comment   
------ -------------------------------------------- ------------ ------------------------- ------------- --------- 
0      _conv_conv_0_Conv_output_0_bias              4/16         weights/weights           const float             
1      _conv_conv_0_Conv_output_0_output            144/576      activations/**default**   float                   
2      _conv_conv_0_Conv_output_0_scratch0          9/36         activations/**default**   float                   
3      _conv_conv_0_Conv_output_0_scratch1          192/768      activations/**default**   float                   
4      _conv_conv_0_Conv_output_0_weights           36/144       weights/weights           const float             
5      _conv_conv_3_Conv_output_0_bias              8/32         weights/weights           const float             
6      _conv_conv_3_Conv_output_0_output            48/192       activations/**default**   float                   
7      _conv_conv_3_Conv_output_0_scratch0          36/144       activations/**default**   float                   
8      _conv_conv_3_Conv_output_0_scratch1          192/768      activations/**default**   float                   
9      _conv_conv_3_Conv_output_0_weights           288/1152     weights/weights           const float             
10     _fc_fc_0_Flatten_output_0_to_chlast_output   48/192       activations/**default**   float                   
11     _fc_fc_1_Gemm_output_0_bias                  64/256       weights/weights           const float             
12     _fc_fc_1_Gemm_output_0_output                64/256       activations/**default**   float                   
13     _fc_fc_1_Gemm_output_0_weights               3072/12288   weights/weights           const float             
14     _fc_fc_2_Relu_output_0_output                64/256       activations/**default**   float                   
15     input_output                                 144/576      activations/**default**   float         /input    
16     output_bias                                  6/24         weights/weights           const float             
17     output_output                                6/24         activations/**default**   float         /output   
18     output_weights                               384/1536     weights/weights           const float             
------ -------------------------------------------- ------------ ------------------------- ------------- --------- 

C-Layers (6)
------ ------------------------------------- ---- --------------- ------- ------- ----------------------------------------------- -------------------- 
c_id   name (*_layer)                        id   layer_type      macc    rom     tensors                                         shape (array id)     
------ ------------------------------------- ---- --------------- ------- ------- ----------------------------------------------- -------------------- 
0      _conv_conv_0_Conv_output_0            3    Conv2D          6340    160     I: input_output                                 f32(1x6x24x1) (15)   
                                                                                  S: _conv_conv_0_Conv_output_0_scratch0                               
                                                                                  S: _conv_conv_0_Conv_output_0_scratch1                               
                                                                                  W: _conv_conv_0_Conv_output_0_weights           f32(4x3x3x1) (4)     
                                                                                  W: _conv_conv_0_Conv_output_0_bias              f32(4) (0)           
                                                                                  O: _conv_conv_0_Conv_output_0_output            f32(1x3x12x4) (1)    
------ ------------------------------------- ---- --------------- ------- ------- ----------------------------------------------- -------------------- 
1      _conv_conv_3_Conv_output_0            6    Conv2D          10856   1184    I: _conv_conv_0_Conv_output_0_output            f32(1x3x12x4) (1)    
                                                                                  S: _conv_conv_3_Conv_output_0_scratch0                               
                                                                                  S: _conv_conv_3_Conv_output_0_scratch1                               
                                                                                  W: _conv_conv_3_Conv_output_0_weights           f32(8x3x3x4) (9)     
                                                                                  W: _conv_conv_3_Conv_output_0_bias              f32(8) (5)           
                                                                                  O: _conv_conv_3_Conv_output_0_output            f32(1x1x6x8) (6)     
------ ------------------------------------- ---- --------------- ------- ------- ----------------------------------------------- -------------------- 
2      _fc_fc_0_Flatten_output_0_to_chlast   7    Transpose       24      0       I: _conv_conv_3_Conv_output_0_output            f32(1x1x6x8) (6)     
                                                                                  O: _fc_fc_0_Flatten_output_0_to_chlast_output   f32(1x8x1x6) (10)    
------ ------------------------------------- ---- --------------- ------- ------- ----------------------------------------------- -------------------- 
3      _fc_fc_1_Gemm_output_0                8    Dense           3136    12544   I: _fc_fc_0_Flatten_output_0_to_chlast_output   f32(1x8x1x6) (10)    
                                                                                  W: _fc_fc_1_Gemm_output_0_weights               f32(64x48) (13)      
                                                                                  W: _fc_fc_1_Gemm_output_0_bias                  f32(64) (11)         
                                                                                  O: _fc_fc_1_Gemm_output_0_output                f32(1x64) (12)       
------ ------------------------------------- ---- --------------- ------- ------- ----------------------------------------------- -------------------- 
4      _fc_fc_2_Relu_output_0                9    Nonlinearity    64      0       I: _fc_fc_1_Gemm_output_0_output                f32(1x64) (12)       
                                                                                  O: _fc_fc_2_Relu_output_0_output                f32(1x64) (14)       
------ ------------------------------------- ---- --------------- ------- ------- ----------------------------------------------- -------------------- 
5      output                                10   Dense           390     1560    I: _fc_fc_2_Relu_output_0_output                f32(1x64) (14)       
                                                                                  W: output_weights                               f32(6x64) (18)       
                                                                                  W: output_bias                                  f32(6) (16)          
                                                                                  O: output_output                                f32(1x6) (17)        
------ ------------------------------------- ---- --------------- ------- ------- ----------------------------------------------- -------------------- 



Number of operations per c-layer
------- ------ -------------------------------------------- -------- -------------- 
c_id    m_id   name (type)                                       #op           type 
------- ------ -------------------------------------------- -------- -------------- 
0       3      _conv_conv_0_Conv_output_0 (Conv2D)             6,340   smul_f32_f32 
1       6      _conv_conv_3_Conv_output_0 (Conv2D)            10,856   smul_f32_f32 
2       7      _fc_fc_0_Flatten_o.._to_chlast (Transpose)         24   smul_f32_f32 
3       8      _fc_fc_1_Gemm_output_0 (Dense)                  3,136   smul_f32_f32 
4       9      _fc_fc_2_Relu_output_0 (Nonlinearity)              64     op_f32_f32 
5       10     output (Dense)                                    390   smul_f32_f32 
------- ------ -------------------------------------------- -------- -------------- 
total                                                         20,810 

Number of operation types
---------------- -------- ----------- 
operation type          #           % 
---------------- -------- ----------- 
smul_f32_f32       20,746       99.7% 
op_f32_f32             64        0.3% 

Complexity report (model)
------ ------------------------------- ------------------------- ------------------------- ------ 
m_id   name                            c_macc                    c_rom                     c_id   
------ ------------------------------- ------------------------- ------------------------- ------ 
8      fc_1_weight                     |||||             15.1%   ||||||||||||||||  81.2%   [3]    
10     fc_3_weight                     |                  1.9%   ||                10.1%   [5]    
3      _conv_conv_2_MaxPool_output_0   |||||||||         30.5%   |                  1.0%   [0]    
6      _conv_conv_5_MaxPool_output_0   ||||||||||||||||  52.2%   ||                 7.7%   [1]    
7      _fc_fc_0_Flatten_output_0       |                  0.1%   |                  0.0%   [2]    
9      _fc_fc_2_Relu_output_0          |                  0.3%   |                  0.0%   [4]    
------ ------------------------------- ------------------------- ------------------------- ------ 
macc=20,810 weights=15,448 act=1,908 ram_io=0

Generated files (7)
--------------------------------------------------- 
D:\NTU\Dissertation\Records\network_data_params.h   
D:\NTU\Dissertation\Records\network_data_params.c   
D:\NTU\Dissertation\Records\network_data.h          
D:\NTU\Dissertation\Records\network_data.c          
D:\NTU\Dissertation\Records\network_config.h        
D:\NTU\Dissertation\Records\network.h               
D:\NTU\Dissertation\Records\network.c               
